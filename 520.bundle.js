"use strict";(self.webpackChunk_tuprolog_arg2p_playground=self.webpackChunk_tuprolog_arg2p_playground||[]).push([[354,520],{3902:(t,e,n)=>{function s(t){let e=0,n=0,s=0,r=0;for(let i=0,o=t.length;i<o;i++){const a=t.charCodeAt(i);13===a?(0===e&&(n=i),e++,i+1<o&&10===t.charCodeAt(i+1)?(r|=2,i++):r|=3,s=i+1):10===a&&(r|=1,0===e&&(n=i),e++,s=i+1)}return 0===e&&(n=t.length),[e,n,t.length-s,r]}n.d(e,{W:()=>s})},5910:(t,e,n)=>{n.d(e,{x:()=>s});class s{static getLanguageId(t){return(255&t)>>>0}static getTokenType(t){return(768&t)>>>8}static containsBalancedBrackets(t){return!!(1024&t)}static getFontStyle(t){return(30720&t)>>>11}static getForeground(t){return(16744448&t)>>>15}static getBackground(t){return(4278190080&t)>>>24}static getClassNameFromMetadata(t){let e="mtk"+this.getForeground(t);const n=this.getFontStyle(t);return 1&n&&(e+=" mtki"),2&n&&(e+=" mtkb"),4&n&&(e+=" mtku"),8&n&&(e+=" mtks"),e}static getInlineStyleFromMetadata(t,e){const n=this.getForeground(t),s=this.getFontStyle(t);let r=`color: ${e[n]};`;1&s&&(r+="font-style: italic;"),2&s&&(r+="font-weight: bold;");let i="";return 4&s&&(i+=" underline"),8&s&&(i+=" line-through"),i&&(r+=`text-decoration:${i};`),r}static getPresentationFromMetadata(t){const e=this.getForeground(t),n=this.getFontStyle(t);return{foreground:e,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}},7922:(t,e,n)=>{n.d(e,{L:()=>s});const s=(0,n(2399).u1)("languageService")},9520:(t,e,n)=>{n.r(e),n.d(e,{SemanticTokensProviderStyling:()=>g,toMultilineTokens2:()=>d}),n(5910);var s=n(9044),r=n(6441),i=n(5365),o=n(8061),a=n(3902);class h{static create(t,e){return new h(t,new u(e))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(t,e){this._startLineNumber=t,this._tokens=e,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null}getRange(){const t=this._tokens.getRange();return t?new o.Q(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn):t}removeTokens(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(e,t.startColumn-1,n,t.endColumn-1),this._updateEndLineNumber()}split(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber,[s,r,i]=this._tokens.split(e,t.startColumn-1,n,t.endColumn-1);return[new h(this._startLineNumber,s),new h(this._startLineNumber+i,r)]}applyEdit(t,e){const[n,s,r]=(0,a.W)(e);this.acceptEdit(t,n,s,r,e.length>0?e.charCodeAt(0):0)}acceptEdit(t,e,n,s,r){this._acceptDeleteRange(t),this._acceptInsertText(new i.y(t.startLineNumber,t.startColumn),e,n,s,r),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;if(n<0){const t=n-e;return void(this._startLineNumber-=t)}const s=this._tokens.getMaxDeltaLine();if(!(e>=s+1)){if(e<0&&n>=s+1)return this._startLineNumber=0,void this._tokens.clear();if(e<0){const s=-e;this._startLineNumber-=s,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,n,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,e,t.startColumn-1,n,t.endColumn-1)}}_acceptInsertText(t,e,n,s,r){if(0===e&&0===n)return;const i=t.lineNumber-this._startLineNumber;i<0?this._startLineNumber+=e:i>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(i,t.column-1,e,n,s,r)}}class u{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){const e=[];for(let n=0;n<this._tokenCount;n++)e.push(`(${this._getDeltaLine(n)+t},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${e.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return 0===t?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(0===t)return null;const e=this._getStartCharacter(0),n=this._getDeltaLine(t-1),s=this._getEndCharacter(t-1);return new o.Q(0,e+1,n,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(t){let e=0,n=this._getTokenCount()-1;for(;e<n;){const s=e+Math.floor((n-e)/2),r=this._getDeltaLine(s);if(r<t)e=s+1;else{if(!(r>t)){let r=s;for(;r>e&&this._getDeltaLine(r-1)===t;)r--;let i=s;for(;i<n&&this._getDeltaLine(i+1)===t;)i++;return new l(this._tokens.subarray(4*r,4*i+4))}n=s-1}}return this._getDeltaLine(e)===t?new l(this._tokens.subarray(4*e,4*e+4)):null}clear(){this._tokenCount=0}removeTokens(t,e,n,s){const r=this._tokens,i=this._tokenCount;let o=0,a=!1,h=0;for(let u=0;u<i;u++){const i=4*u,l=r[i],c=r[i+1],_=r[i+2],g=r[i+3];if((l>t||l===t&&_>=e)&&(l<n||l===n&&c<=s))a=!0;else{if(0===o&&(h=l),a){const t=4*o;r[t]=l-h,r[t+1]=c,r[t+2]=_,r[t+3]=g}o++}}return this._tokenCount=o,h}split(t,e,n,s){const r=this._tokens,i=this._tokenCount,o=[],a=[];let h=o,l=0,c=0;for(let o=0;o<i;o++){const i=4*o,u=r[i],_=r[i+1],g=r[i+2],d=r[i+3];if(u>t||u===t&&g>=e){if(u<n||u===n&&_<=s)continue;h!==a&&(h=a,l=0,c=u)}h[l++]=u-c,h[l++]=_,h[l++]=g,h[l++]=d}return[new u(new Uint32Array(o)),new u(new Uint32Array(a)),c]}acceptDeleteRange(t,e,n,s,r){const i=this._tokens,o=this._tokenCount,a=s-e;let h=0,u=!1;for(let l=0;l<o;l++){const c=4*l;let _=i[c],g=i[c+1],d=i[c+2];const m=i[c+3];if(_<e||_===e&&d<=n){h++;continue}if(_===e&&g<n)_===s&&d>r?d-=r-n:d=n;else if(_===e&&g===n){if(!(_===s&&d>r)){u=!0;continue}d-=r-n}else if(_<s||_===s&&g<r){if(!(_===s&&d>r)){u=!0;continue}_=e,g=n,d=g+(d-r)}else if(_>s){if(0===a&&!u){h=o;break}_-=a}else{if(!(_===s&&g>=r))throw new Error("Not possible!");t&&0===_&&(g+=t,d+=t),_-=a,g-=r-n,d-=r-n}const k=4*h;i[k]=_,i[k+1]=g,i[k+2]=d,i[k+3]=m,h++}this._tokenCount=h}acceptInsertText(t,e,n,s,r,i){const o=0===n&&1===s&&(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122),a=this._tokens,h=this._tokenCount;for(let i=0;i<h;i++){const h=4*i;let u=a[h],l=a[h+1],c=a[h+2];if(!(u<t||u===t&&c<e)){if(u===t&&c===e){if(!o)continue;c+=1}else if(u===t&&l<e&&e<c)0===n?c+=s:c=e;else{if(u===t&&l===e&&o)continue;if(u===t)if(u+=n,0===n)l+=s,c+=s;else{const t=c-l;l=r+(l-e),c=l+t}else u+=n}a[h]=u,a[h+1]=l,a[h+2]=c}}}}class l{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}var c=n(7922),_=function(t,e){return function(n,s){e(n,s,t)}};let g=class{constructor(t,e,n,s){this._legend=t,this._themeService=e,this._languageService=n,this._logService=s,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new k}getMetadata(t,e,n){const s=this._languageService.languageIdCodec.encodeLanguageId(n),r=this._hashTable.get(t,e,s);let i;if(r)i=r.metadata;else{let r=this._legend.tokenTypes[t];const o=[];if(r){let t=e;for(let e=0;t>0&&e<this._legend.tokenModifiers.length;e++)1&t&&o.push(this._legend.tokenModifiers[e]),t>>=1;const s=this._themeService.getColorTheme().getTokenStyleMetadata(r,o,n);void 0===s?i=2147483647:(i=0,void 0!==s.italic&&(i|=1|(s.italic?1:0)<<11),void 0!==s.bold&&(i|=2|(s.bold?2:0)<<11),void 0!==s.underline&&(i|=4|(s.underline?4:0)<<11),void 0!==s.strikethrough&&(i|=8|(s.strikethrough?8:0)<<11),s.foreground&&(i|=16|s.foreground<<15),0===i&&(i=2147483647))}else i=2147483647,r="not-in-legend";this._hashTable.add(t,e,s,i)}return i}warnOverlappingSemanticTokens(t,e){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${e}`))}warnInvalidLengthSemanticTokens(t,e){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${e}`))}warnInvalidEditStart(t,e,n,s,r){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${e}) at edit #${n}: The provided start offset ${s} is outside the previous data (length ${r}).`))}};function d(t,e,n){const s=t.data,r=t.data.length/5|0,i=Math.max(Math.ceil(r/1024),400),o=[];let a=0,u=1,l=0;for(;a<r;){const t=a;let c=Math.min(t+i,r);if(c<r){let e=c;for(;e-1>t&&0===s[5*e];)e--;if(e-1===t){let t=c;for(;t+1<r&&0===s[5*t];)t++;c=t}else c=e}let _=new Uint32Array(4*(c-t)),g=0,d=0,m=0,k=0;for(;a<c;){const t=5*a,r=s[t],i=s[t+1],o=u+r|0,h=0===r?l+i|0:i,c=h+s[t+2]|0,f=s[t+3],L=s[t+4];if(c<=h)e.warnInvalidLengthSemanticTokens(o,h+1);else if(m===o&&k>h)e.warnOverlappingSemanticTokens(o,h+1);else{const t=e.getMetadata(f,L,n);2147483647!==t&&(0===d&&(d=o),_[g]=o-d,_[g+1]=h,_[g+2]=c,_[g+3]=t,g+=4,m=o,k=c)}u=o,l=h,a++}g!==_.length&&(_=_.subarray(0,g));const f=h.create(d,_);o.push(f)}return o}g=function(t,e,n,s){var r,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}([_(1,s.Gy),_(2,c.L),_(3,r.rr)],g);class m{constructor(t,e,n,s){this.tokenTypeIndex=t,this.tokenModifierSet=e,this.languageId=n,this.metadata=s,this.next=null}}class k{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,e){for(let n=0;n<e;n++)t[n]=null}_hash2(t,e){return(t<<5)-t+e|0}_hashFunc(t,e,n){return this._hash2(this._hash2(t,e),n)%this._currentLength}get(t,e,n){const s=this._hashFunc(t,e,n);let r=this._elements[s];for(;r;){if(r.tokenTypeIndex===t&&r.tokenModifierSet===e&&r.languageId===n)return r;r=r.next}return null}add(t,e,n,s){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const t=this._elements;this._currentLengthIndex++,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength);for(const e of t){let t=e;for(;t;){const e=t.next;t.next=null,this._add(t),t=e}}}this._add(new m(t,e,n,s))}_add(t){const e=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[e],this._elements[e]=t}}}}]);